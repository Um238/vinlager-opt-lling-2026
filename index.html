<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vinlager Optælling 2026</title>

  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <link rel="stylesheet" href="styles.css?v=99" />

  <!-- Eksterne libs -->
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
</head>

<body style="margin:0;padding:0;">

<!-- ================= LOGIN – VISER ALTID ================= -->
<div
  id="login-screen"
  class="login-screen"
  style="
    display:flex !important;
    position:fixed;
    inset:0;
    z-index:9999;
    background:#ffffff;
    align-items:center;
    justify-content:center;
    flex-direction:column;
  "
>
  <h1>Vinlager Login</h1>

  <input id="login-username" placeholder="Brugernavn" />
  <input id="login-password" type="password" placeholder="Kodeord" />

  <button onclick="handleLogin()">Log ind</button>

  <p id="login-error" style="color:red;"></p>
</div>

<!-- ================= RESTEN AF APP (SKJULT INDTIL LOGIN) ================= -->
<header id="main-header" style="display:none;"></header>
<main id="main-content" style="display:none;"></main>

<!-- ================= CORE SCRIPTS ================= -->
<script src="config.js?v=99" defer></script>
<script src="auth.js?v=99" defer></script>
<script src="app.js?v=108" defer></script>

<script>
  console.log('INDEX LOAD OK');

  // Tving login til at være synligt indtil auth selv skjuler det
  document.addEventListener('DOMContentLoaded', () => {
    const login = document.getElementById('login-screen');
    if (login) {
      login.style.display = 'flex';
    }
  });
</script>

</body>
</html>
